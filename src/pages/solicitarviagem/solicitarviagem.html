<!--
  Generated template for the SolicitarviagemPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
      <ion-title>
        Solicitar Viagem 
      </ion-title>
    </ion-navbar>
  </ion-header>
  
      <ion-content padding>

            <div>
                <ion-item>   
                    <ion-label padding><h4>Origem</h4></ion-label>
                    <ion-label><div text-uppercase  text-right text-wrap>{{ Place.origem }}</div></ion-label>
                </ion-item>   

                <ion-item>   
                    <ion-label padding><h4>Destino</h4></ion-label>
                    <ion-label><div text-uppercase text-right text-wrap>{{ Place.destino }}</div></ion-label>
                </ion-item>   
            </div>

            <div>
                <ion-label><h4>Viajantes</h4></ion-label>
    
                    <ion-item>
                        <ion-label>Matrícula</ion-label>
                        <ion-input  type="number"  [(ngModel)]="Viajante" name="viajante"></ion-input>
                
                        <button ion-button  (click)="onAddviajante()" item-end>
                        <ion-icon  name="person-add" item-center></ion-icon>
                        </button>
                </ion-item>


                <ion-list *ngIf="Viajantes.length != 0">
                <ion-label text-center >Lista de Viajantes</ion-label>
                    <ion-item-sliding *ngFor="let note of Viajantes">
            
                        <ion-item>
                            <h2 text-wrap>{{note.Nome}}</h2>
                            <h4>Matrícula: {{note.Id}}</h4>  
                        </ion-item>
            
                        <ion-item-options>
                            <button ion-button (click)="onRemoveItem(note)" >
                                <ion-icon name="trash"></ion-icon>
                            </button>
                        </ion-item-options>
            
                    </ion-item-sliding>
                </ion-list>
    
            

            <ion-label><h4>Telefone para Contato</h4></ion-label>
            <ion-item>
                    <ion-label>Telefone</ion-label>
                    <ion-input type="text" [brmasker]="{mask:'(00) 0-0000-0000', len:16, type:'num'}" [(ngModel)]="Telefone" name= "telefone" ></ion-input>  
                    <button ion-button (click)="onAddTelefone()" item-end>
                    <ion-icon  name="add-circle" item-center></ion-icon>
                    </button>
            </ion-item>


                <ion-list *ngIf="Telefones.length != 0" >
                        <ion-label text-center >Lista de Telefones</ion-label>
                        <ion-item-sliding *ngFor="let note of Telefones">
                            <ion-item>
                                <h2>{{note}}</h2> 
                            </ion-item>
                            <ion-item-options>
                                <button ion-button (click)="onRemoveTelefone(note)" >
                                    <ion-icon name="trash"></ion-icon>
                                </button>
                            </ion-item-options>
                
                        </ion-item-sliding>
                </ion-list>
            </div>

            <form (ngSubmit)="onSubmit($event)" #registerForm="ngForm"  padding>

                    <ion-item> 
                        <ion-label>Transporte</ion-label>
                        <ion-select [(ngModel)]="SolicitacaoViagem.Transporte" name="Transporte"  required>
                        <ion-option [value]="item.Id" *ngFor="let item of Transportes" >{{item.Nome}}</ion-option>
                        </ion-select>
                    </ion-item>
                    
                    <ion-item>
                        <ion-label>Partida</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY - HH:mm"   [(ngModel)]="SolicitacaoViagem.Partida"  [ngModelOptions]="{standalone: true}" (ngModelChange)='onChangeData()' required></ion-datetime>
                    </ion-item>
                    
                    <ion-item>
                        <ion-label>Chegada</ion-label>
                        <ion-datetime  displayFormat="DD/MM/YYYY - HH:mm" [(ngModel)]="SolicitacaoViagem.Chegada" [ngModelOptions]="{standalone: true}" (ngModelChange)='onChangeData()' required></ion-datetime>
                    </ion-item>
                    <ion-item *ngIf="duracao.length != 0" >
                        <div item-right><h4>{{duracao}}</h4></div>
                    </ion-item>
                    <ion-label><h4>Motivação da Viagem:</h4></ion-label>
                    <ion-item>
                        <ion-textarea placeholder="Digite a Motivação" [(ngModel)]="SolicitacaoViagem.Observacao" name="obs"></ion-textarea>
                    </ion-item>

                    <ion-item>
                        <ion-label>Aprovador</ion-label>
                        <ion-select [(ngModel)]="SolicitacaoViagem.Aprovador" name="Aprovador" text-wrap required>
                        <ion-option [value]="item.Id" *ngFor="let item of Aprovador" >{{item.Nome}}</ion-option>
                        </ion-select>
                    </ion-item>
                <button ion-button class="submit-btn" full type="submit" [disabled]="!registerForm.form.valid">Solicitar</button>
            </form>

      </ion-content>
